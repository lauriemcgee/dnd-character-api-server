<div id="container" class="wrapper">
  <div id="scene" class="scene"
    data-friction-x="0.08"
    data-friction-y="0.08"
    data-scalar-x="25"
    data-scalar-y="15"
    data-pointer-events="true">
    <div class="layer" data-depth="0.00"><img src="img/backgrounddnd.png"></div>
    <div class="layer" data-depth="0.2"><img src="img/clouds2.png" class="cloud"> </div>
    <div class="layer" data-depth="0.25"><img src="img/clouds9.png" class="cloud"></div>
    <div class="layer" data-depth="0.30"><img src="img/cloud1.png" class="cloud"></div>
    <div class="layer" data-depth="0.35"><img src="img/clouds8.png" class="cloud"></div>
    <div class="layer" data-depth="0.35"><img src="img/centerbackground.png"></div>
    <div class=layer data-depth=".36">
      <transition name="fade">
        <div v-if="showCharClass" class="info-container">
          <div class="info">
            <draggable-header-view id="slideOut">
              <template slot="header">
                <h1>Class: </h1>
              </template>
              <template slot="content">
                <ul v-for="charClass in charClasses" v-bind:key="charClass.id">
                  <input type="radio" v-bind:value="charClass.name" v-model="charClassChoice">
                  <label id="label" for="charClass.id" v-on:click="revealModal(charClass)">{{ charClass.name }}</label>
                  <br>
                </ul>
                <span>You really wanna be a: {{ charClassChoice }}</span>
                <button class="panel button" v-on:click="selectCharClassChoice()">Yup, yeah I do</button>
              </template>
            </draggable-header-view>
          </div>
        </div>
      </transition>
      <transition name="fade">
        <div v-if="showRace" class="info-container">
          <div class="info">
            <draggable-header-view id="slideOut">
              <template slot="header">
                <h1>Race: </h1>
              </template>
              <template slot="content">
                <ul v-for="race in races" v-bind:key="race.id">
                  <input type="radio" v-bind:value="race.name" v-model="raceChoice">
                  <label id="label" for="race.id" v-on:click="revealModal(race)">{{ race.name }}</label>
                  <br>
                </ul>
                <span>You really wanna be a: {{ raceChoice }}</span>
                <button class="panel button" v-on:click="selectRace()">Yup, yeah I do</button>
              </template>
            </draggable-header-view>
          </div>
        </div>
      </transition>
      </transition>
      <transition name="fade">
        <div v-if="showAlignment" class="info-container">
          <div class="info">
            <draggable-header-view id="slideOut">
              <template slot="header">
                <h1>Alignment: </h1>
              </template>
              <template slot="content">
                <ul v-for="alignment in alignments" v-bind:key="alignment.id">
                  <input type="radio" v-bind:value="alignment.name" v-model="alignmentChoice">
                  <label id="label" for="alignment.id" v-on:click="revealModal(alignment)">{{ alignment.name }}</label>
                  <br>
                </ul>
                <span>You really wanna be a: {{ alignmentChoice }}</span>
                <button class="panel button" v-on:click="selectAlignment()">Yup, yeah I do</button>
              </template>
            </draggable-header-view>
          </div>
        </div>
      </transition>
      <transition name="fade">
        <div v-if="showBackground" class="info-container">
          <div class="info">
            <draggable-header-view id="slideOut">
              <template slot="header">
                <h1>Background: </h1>
              </template>
              <template slot="content">
                <ul v-for="background in backgrounds" v-bind:key="background.id">
                  <input type="radio" v-bind:value="background.name" v-model="backgroundChoice">
                  <label id="label" for="background.id" v-on:click="revealModal(background)"> {{ background.name }}</label>
                  <br>
                </ul>
                <span>You really wanna be a: {{ backgroundChoice }}</span>
                <button class="panel button" v-on:click="selectBackground()">Yup, yeah I do</button>
              </template>
            </draggable-header-view>
          </div>
        </div>
      </transition>
      <transition name="fade">
        <div v-if="getUserInfo" class="info-container">
          <div class="info">
            <draggable-header-view id="slideOut">
              <template slot="header">
                <h1>Choose your Character's name: </h1>
              </template>
              <template slot="content">
                <input v-model="charName" type="text"></input>
                <input v-model="userName" type="text" placeholder="And your name here, plox"></input>
                <div>
                  <input class="panel button" type="submit" value="submit" v-on:click="buildCharacter()">
                </div>
              </template>
            </draggable-header-view>
          </div>
        </div>
      </transition>
      <div v-if="showModal">
        <transition name="modal">
          <div class="modal-mask">
            <div class="modal-wrapper">
              <div class="modal-container">

                <div class="modal-header">
                  <slot name="header">
                    <h3>{{currentName}}</h3>
                  </slot>
                </div>

                <div class="modal-body">
                  <slot name="body">
                    <p>{{currentDescription}}</p>
                    <p>{{currentLangInfo}}</p>
                  </slot>
                </div>

                <div class="modal-footer">
                  <slot name="footer">
                    <button class="modal-default-button" @click="showModal = false">
                      OK
                    </button>
                  </slot>
                </div>
              </div>
            </div>
          </div>
        </transition>
      </div>
    </div>
  </div>
</div>


<!-- Scripts -->
<script src="js/parallax.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.debug.js"></script>

<!-- DRAGGABLE HEADER SCRIPT -->
  <script type="text/x-template" id="header-view-template">
    <div class="draggable-header-view"
    @mousedown="startDrag" @touchstart="startDrag"
    @mousemove="onDrag" @touchmove="onDrag"
    @mouseup="stopDrag" @touchend="stopDrag" @mouseleave="stopDrag">
      <svg class="bg" width="400" height="300">
        <path :d="headerPath" fill="rgba(0, 0, 0, 0)"></path>
      </svg>
      <div class="header">
        <slot name="header"></slot>
      </div>
      <div class="content" :style="contentPosition">
        <slot name="content"></slot>
      </div>
    </div>
  </script>
